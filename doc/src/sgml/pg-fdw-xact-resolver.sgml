<!-- doc/src/sgml/pg-fdw-xact-resolver.sgml -->

<sect1 id="pg-fdw-xact-resolver" xreflabel="pg_fdw_xact_resolver">
 <title>pg_fdw_xact_resolver</title>

 <indexterm zone="pg-fdw-xact-resolver">
  <primary>pg_fdw_xact_resolver</primary>
 </indexterm>

 <para>
  The <filename>pg_fdw_xact_resolver</> module launches foreign transaction
  resolver process to resolve unresolved transactions prepared on foreign
  servers.
 </para>

 <para>
  The transaction involving multiple foreign servers uses two-phase-commit
  protocol when transaction commits. Any crash or connection failure
  after transaction prepared but before commit leaves the preapred transaction
  in unresolved state. To resolve such a dandling transaction, we need to
  call <function>pg_fdw_xact_resolve</function>.
 </para>

 <para>
  The foreign transaction resolver process launches separate bacground
  worker process to resolve the dangling forign transaction in each
  database. The process simply connects to the database as needed and
  callls <function>pg_fdw_xact_resolve</function>. The launcher process
  launches at most one worker at a time.
 </para>
 
 <sect2>
  <title>Configuration Parameters</title>

  <variablelist>
   <varlistentry>
    <term>
     <varname>pg_fdw_xact_resovler.naptime</varname> (<type>integer</type>)
    </term>

    <listitem>
     <para>
      Specifies the minimum delay between foreign transaction resolver runs
      on any given database. The dealy is measured in seconds, and the
      default is one minute (1min). This parameter can only be set in
      the <filename>postgresql.conf</filename> file of on the server
      command line.
     </para>
    </listitem>
   </varlistentry>
  </variablelist>
 </sect2>

 <sect2>
  <title>Author</title>
  <para>
   Ahutosh Bapat <email>ashutosh.bapat@enterprisedb.com</email>, Masahiko Sawada
   <email>sawada.mshk@gmail.com</email>
  </para>
 </sect2>
